# TCP 可靠传输的实现原理

1.序列号与确认应答（Sequence & Ackoneledgment）

每个数据包携带唯一序列号，接收方需返回确认号（ACK=SEQ+数据长度），发送方通过ACK确认数据已成功接收，未收到ACK则触发重传。

2.超时重传（Retransmission Timeout，RTO）
发送方为每个数据包启动计时器，若在RTO（动态计算）内未收到ACK，则重新发送数据包。

3.滑动窗口（Sliding Window）
允许发送方在未收到ACK前发送多个数据包，窗口大小决定最大未确认数据量。接收方通过窗口大小（Window Size）告知剩余缓冲区容量。

4.流量控制（Flow Control）​​
​​
接收方通过动态调整窗口大小，防止发送方发送速度过快导致缓冲区溢出。

3.4 连接管理机制

TCP使用三次握手和四次挥手来建立和终止连接。通过三次握手，发送方和接收方交换序列号、窗口大小等信息，确保双方都准备好进行数据传输。在传输过程中，通过四次挥手正常终止连接，确保最后的数据能够完整传输。

四次挥手 全双工（full-duplex mode）

3.5 拥塞控制

拥塞控制根据网络拥塞情况自适应调整发送方的发送速率，防止过多的数据注入网络，避免网络拥塞和数据丢失。
